<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>Personal Site</title>
        <link rel="stylesheet" href="style.css" />
    </head>
    <body>
        <div class="header">
            <div class="logo">Title</div>
            <ul>
                <li><a href="#">Home</a></li>
                <li><a href="./about.html">About</a></li>
                <li><a href="./projects.html">Projects</a></li>
            </ul>
        </div>

        <div class="search">
            <div>short info here, about what this is</div>
            <div>Search bar placeholder</div>
        </div>

        <div class="divider"></div>

        <div class="articles">
            <div class="article">
                <p>September 3, 2022</p>
                <div>
                    <p>Title of article</p>
                    <p>Description of the above article.</p>
                    <ul>
                        <li>Tag1</li>
                        <li>Tag2</li>
                        <li>Tag3</li>
                    </ul>
                </div>
            </div>
            <div class="article">
                <p>September 3, 2022</p>
                <div>
                    <p>Title of article</p>
                    <p>Description of the above article.</p>
                    <ul>
                        <li>Tag1</li>
                        <li>Tag2</li>
                        <li>Tag3</li>
                    </ul>
                </div>
            </div>
            <div class="article">
                <p>September 3, 2022</p>
                <div>
                    <p>Title of article</p>
                    <p>Description of the above article.</p>
                    <ul>
                        <li>Tag1</li>
                        <li>Tag2</li>
                        <li>Tag3</li>
                    </ul>
                </div>
            </div>
        </div>

        <script>
            const container = document.querySelector('.articles');
            fetch('https://ag-dragon.github.io/postdata.json')
                .then((res) => res.json())
                .then((data) => {
                    data.data.forEach(post => {
            const article = document.createElement('div');
            article.classList.toggle('article');

                const postDate = document.createElement('div');
                postDate.classList.toggle('date');
                postDate.textContent = new Date(Date.parse(post.date)).toDateString();
                article.appendChild(postDate);

                const postInfo = document.createElement('div');
                    const postTitle = document.createElement('div');
                    postTitle.classList.toggle('title');
                    postTitle.textContent = post.title;
                    postInfo.appendChild(postTitle);
                    const postDesc = document.createElement('div');
                    postDesc.classList.toggle('desc');
                    postDesc.textContent = post.description;
                    postInfo.appendChild(postDesc);
                    const tagList = document.createElement('ul');
                        post.tags.forEach(tag => {
                            const tagli = document.createElement('li');
                            tagli.textContent = tag;
                            tagList.appendChild(tagli);
                        });
                    postInfo.appendChild(tagList);
                article.appendChild(postInfo);

            container.appendChild(article);
                        console.log(post);
                    });
                })
                .catch((err) => {
                    console.error(err);
                });
        </script>
    </body>
</html>
